(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ff4e"],{"+Lc1":function(t,e,i){"use strict";i.d(e,"c",function(){return r}),i.d(e,"d",function(){return l}),i.d(e,"a",function(){return o}),i.d(e,"b",function(){return s});var a=i("t3Un");function r(t){return Object(a.a)({url:"/user/appointment/list",method:"post",data:t})}function l(t){return Object(a.a)({url:"/user/appointment/queryMaximum",method:"post",params:t})}function o(t){return Object(a.a)({url:"/user/appointment/add",method:"post",data:t})}function s(t){return Object(a.a)({url:"/user/appointment/details",method:"post",params:t})}},"0Wts":function(t,e,i){},AuD3:function(t,e,i){"use strict";var a=i("0Wts");i.n(a).a},Nuvt:function(t,e,i){"use strict";var a={name:"InputBox",props:{title:{type:String,default:""},must:{type:Boolean,default:!1},width:{type:Number,default:200}}},r=(i("Uumj"),i("KHd+")),l=Object(r.a)(a,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-box",class:{must:this.must},style:{width:this.width+"px"}},[e("div",{staticClass:"input-title"},[this._v(this._s(this.title))]),this._v(" "),this._t("default")],2)},[],!1,null,"9a9a2152",null);l.options.__file="index.vue";e.a=l.exports},Uumj:function(t,e,i){"use strict";var a=i("tB12");i.n(a).a},YJFt:function(t,e,i){"use strict";var a=i("oV5b"),r=i("9vS1"),l=i("6rf1"),o=i("a9f8"),s={name:"FormItem",componentName:"ElFormItem",mixins:[r.a],provide:function(){return{FormItem:this}},inject:["elForm"],props:{label:{type:String,default:""},labelWidth:{type:String,default:""},prop:{type:String,default:""},required:{type:Boolean,default:void 0},rules:{type:[Object,Array],default:null},error:{type:String,default:""},validateStatus:{type:String,default:""},for:{type:String,default:""},inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,default:""}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,form:null}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var t={};if("top"===this.form.labelPosition)return t;var e=this.labelWidth||this.form.labelWidth;return e&&(t.width=e),t},contentStyle:function(){var t={},e=this.label;if("top"===this.form.labelPosition||this.form.inline)return t;if(!e&&!this.labelWidth&&this.isNested)return t;var i=this.labelWidth||this.form.labelWidth;return i&&(t.marginLeft=i),t},fieldValue:function(){var t=this.form.model;if(t&&this.prop){var e=this.prop;return-1!==e.indexOf(":")&&(e=e.replace(/:/,".")),Object(o.a)(t,e,!0).v}},isRequired:function(){var t=this.getRules(),e=!1;return t&&t.length&&t.every(function(t){return!t.required||(e=!0,!1)}),e},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},watch:{error:{immediate:!0,handler:function(t){this.validateMessage=t,this.validateState=t?"error":""}},validateStatus:function(t){this.validateState=t}},created:function(){for(var t=this.$parent,e=t.$options.componentName;"ElForm"!==e;)"FormItem"===e&&(this.isNested=!0),e=(t=t.$parent).$options.componentName;this.form=t},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var t=this.fieldValue;Array.isArray(t)&&(t=[].concat(t)),Object.defineProperty(this,"initialValue",{value:t}),(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])},methods:{validate:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.b;this.validateDisabled=!1;var r=this.getFilteredRule(t);if((!r||0===r.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var l={};r&&r.length>0&&r.forEach(function(t){delete t.trigger}),l[this.prop]=r;var s=new a.default(l),n={};n[this.prop]=this.fieldValue,s.validate(n,{firstFields:!0},function(t,a){e.validateState=t?"error":"success",e.validateMessage=t?t[0].message:"",i(e.validateMessage,a),e.elForm&&e.elForm.$emit("validate",e.prop,!t)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var t=this.form.model,e=this.fieldValue,i=this.prop;-1!==i.indexOf(":")&&(i=i.replace(/:/,"."));var a=Object(o.a)(t,i,!0);this.validateDisabled=!0,Array.isArray(e)?a.o[a.k]=[].concat(this.initialValue):a.o[a.k]=this.initialValue,this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var t=this.form.rules,e=this.rules,i=void 0!==this.required?{required:!!this.required}:[],a=Object(o.a)(t,this.prop||"");return t=t?a.o[this.prop||""]||a.v:[],[].concat(e||t||[]).concat(i)},getFilteredRule:function(t){return this.getRules().filter(function(e){return!e.trigger||""===t||(Array.isArray(e.trigger)?e.trigger.indexOf(t)>-1:e.trigger===t)}).map(function(t){return Object(l.a)({},t)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},showErrorMessage:function(t){this.validateState="error",this.validateMessage=t}}},n=i("KHd+"),d=Object(n.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":t.elForm&&t.elForm.statusIcon,"is-error":"error"===t.validateState,"is-validating":"validating"===t.validateState,"is-success":"success"===t.validateState,"is-required":t.isRequired||t.required},t.sizeClass?"el-form-item--"+t.sizeClass:""]},[t.label||t.$slots.label?i("label",{staticClass:"el-form-item__label",style:t.labelStyle,attrs:{for:t.labelFor}},[t._t("label",[t._v(t._s(t.label+t.form.labelSuffix))])],2):t._e(),t._v(" "),i("div",{staticClass:"el-form-item__content",style:t.contentStyle},[t._t("default"),t._v(" "),i("transition",{attrs:{name:"el-zoom-in-top"}},["error"===t.validateState&&t.showMessage&&t.form.showMessage?i("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof t.inlineMessage?t.inlineMessage:t.elForm&&t.elForm.inlineMessage||!1}},[t._v("\n        "+t._s(t.validateMessage)+"\n      ")]):t._e()])],2)])},[],!1,null,null,null);d.options.__file="index.vue";e.a=d.exports},tB12:function(t,e,i){},zToa:function(t,e,i){"use strict";i.r(e);var a=i("Nuvt"),r=i("Yfch"),l=i("YJFt"),o=i("+Lc1"),s=i("t3Un");i("Qyje");i("dqDD");var n={name:"OrderAdd",components:{InputBox:a.a,FormItem:l.a},data:function(){return{form:{appointmentUuid:"",nameMother:"",nameChild:"",phone:"",dateOfBirth:"",date:"",sex:"",week:"",day:"",age:7*this.week+this.day,weight:"",doctor:"",hospital:"",reportMode:"",type:0,childNum:"",birthMode:""},doctorId:[{id:"",value:""}],birthMode:[{id:0,value:"顺产"},{id:1,value:"剖腹产"}],reportMode:[{id:0,value:"初诊"},{id:1,value:"复诊"},{id:2,value:"手术后检查"}],childNum:[{id:1,value:1},{id:2,value:2},{id:3,value:3},{id:4,value:4},{id:5,value:5},{id:6,value:6}],rules:{nameMother:[{required:!0,trigger:["blur","change"],validator:r.c}],doctor:[{required:!0,trigger:["blur","change"],validator:r.b}],phone:[{required:!0,trigger:["blur","change"],validator:r.e}]}}},created:function(){this.doctors(),this.appointment()},computed:{isEdit:function(){return!!this.$route.query.id}},methods:{doctors:function(){var t=this;Object(s.a)({url:"/user/user/doctors",method:"post"}).then(function(e){console.log(e),t.doctorId=e.result})},appointment:function(){var t=this,e=this.$route.query.id;console.log(e),e&&Object(o.b)({uuid:e}).then(function(e){"SUCCESS"===e.code?(t.form=e.result,t.form.week=Math.floor(e.result.age/7),t.form.day=e.result.age%7):alert("该预约单不存在")})},handleSave:function(){var t=this;this.$refs.form.validate(function(e){return e&&(console.log("提交表单"),Object(o.a)(t.form).then(function(e){console.log(e.code),0===e.code?alert("添加成功！"):alert("添加失败！"),t.$router.push({path:"/order/list"})})),!1})},handleCancel:function(){this.$router.go(-1)}}},d=(i("AuD3"),i("KHd+")),u=Object(d.a)(n,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"form-box"},[i("div",{staticClass:"content-box"},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules,"auto-complete":"appointmentUuid"}},[i("div",{staticClass:"left"},[i("div",{staticClass:"title"},[t._v("基础资料")]),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"input-line"},[i("input-box",{staticClass:"input-box-left",attrs:{must:!0,width:308,title:"母亲姓名"}},[i("form-item",{attrs:{prop:"nameMother"}},[i("elInput",{attrs:{disabled:t.isEdit,name:"name-mother",size:"mini",placeholder:"请输入母亲姓名"},model:{value:t.form.nameMother,callback:function(e){t.$set(t.form,"nameMother",e)},expression:"form.nameMother"}})],1)],1),t._v(" "),i("input-box",{staticClass:"input-box-right",attrs:{must:!0,width:308,title:"孩子姓名"}},[i("elInput",{attrs:{disabled:t.isEdit,size:"mini",placeholder:"请输入孩子姓名(没有可不填)"},model:{value:t.form.nameChild,callback:function(e){t.$set(t.form,"nameChild",e)},expression:"form.nameChild"}})],1)],1),t._v(" "),i("div",{staticClass:"input-line margin-top-32"},[i("input-box",{staticClass:"input-box-left",attrs:{width:308,title:"手机号"}},[i("form-item",{attrs:{prop:"phone"}},[i("elInput",{attrs:{disabled:t.isEdit,size:"mini",placeholder:"请输入正确的手机号"},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1)],1),t._v(" "),i("input-box",{staticClass:"input-box-right",attrs:{width:308,title:"出生日期"}},[i("elDatePicker",{attrs:{clearable:!1,size:"mini",type:"date",placeholder:"请选择出生日期"},model:{value:t.form.dateOfBirth,callback:function(e){t.$set(t.form,"dateOfBirth",e)},expression:"form.dateOfBirth"}})],1)],1),t._v(" "),i("div",{staticClass:"input-line margin-top-32"},[i("input-box",{staticClass:"input-box-left",attrs:{width:308,title:"性别"}},[i("el-radio",{attrs:{label:"0"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[t._v("男")]),t._v(" "),i("el-radio",{attrs:{label:"1"},model:{value:t.form.sex,callback:function(e){t.$set(t.form,"sex",e)},expression:"form.sex"}},[t._v("女")])],1)],1),t._v(" "),i("div",{staticClass:"input-line margin-top-32"},[i("input-box",{staticClass:"input-box-left",attrs:{width:640,title:"出生胎龄"}},[i("div",{staticClass:"week-input-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.week,expression:"form.week"}],attrs:{type:"text",placeholder:"（25-45）"},domProps:{value:t.form.week},on:{input:function(e){e.target.composing||t.$set(t.form,"week",e.target.value)}}}),t._v(" "),i("span",[t._v("周")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.form.day,expression:"form.day"}],attrs:{type:"text",placeholder:"（0-6）"},domProps:{value:t.form.day},on:{input:function(e){e.target.composing||t.$set(t.form,"day",e.target.value)}}}),t._v(" "),i("span",[t._v("天")])])])],1),t._v(" "),i("div",{staticClass:"input-line margin-top-32"},[i("input-box",{staticClass:"input-box-left",attrs:{width:308,title:"出生体重"}},[i("elInput",{attrs:{size:"mini",placeholder:"请输入出生体重（kg）"},model:{value:t.form.weight,callback:function(e){t.$set(t.form,"weight",e)},expression:"form.weight"}})],1),t._v(" "),i("input-box",{staticClass:"input-box-right",attrs:{width:308,title:"出生医院"}},[i("elInput",{attrs:{size:"mini",placeholder:"请输入出生医院"},model:{value:t.form.hospital,callback:function(e){t.$set(t.form,"hospital",e)},expression:"form.hospital"}})],1)],1),t._v(" "),i("div",{staticClass:"input-line margin-top-32"},[i("input-box",{staticClass:"input-box-left",attrs:{width:308,title:"胎数"}},[i("el-select",{attrs:{size:"mini",placeholder:"请选择胎数"},model:{value:t.form.childNum,callback:function(e){t.$set(t.form,"childNum",e)},expression:"form.childNum"}},t._l(t.childNum,function(t){return i("elOption",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1),t._v(" "),i("input-box",{staticClass:"input-box-right",attrs:{width:308,title:"生产方式"}},[i("el-select",{attrs:{size:"mini",placeholder:"请选择生产方式"},model:{value:t.form.birthMode,callback:function(e){t.$set(t.form,"birthMode",e)},expression:"form.birthMode"}},t._l(t.birthMode,function(t){return i("elOption",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1)],1)])]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"title"},[t._v("选择预约信息")]),t._v(" "),i("div",{staticClass:"content"},[i("input-box",{attrs:{must:!0,width:640,title:"选择医生"}},[i("form-item",{attrs:{prop:"doctor"}},[i("el-select",{attrs:{size:"mini",placeholder:"请选择医生"},model:{value:t.form.doctorId,callback:function(e){t.$set(t.form,"doctorId",e)},expression:"form.doctorId"}},t._l(t.doctorId,function(t){return i("elOption",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1)],1),t._v(" "),i("input-box",{staticClass:"margin-top-32",attrs:{width:640,title:"预约时间"}},[i("elDatePicker",{attrs:{clearable:!1,disabled:t.isEdit,size:"mini",type:"date",placeholder:"请选择预约时间"},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1),t._v(" "),i("input-box",{staticClass:"margin-top-32",attrs:{width:640,title:"就诊类型"}},[i("el-select",{attrs:{size:"mini",placeholder:"请选择就诊类型"},model:{value:t.form.reportMode,callback:function(e){t.$set(t.form,"reportMode",e)},expression:"form.reportMode"}},t._l(t.reportMode,function(t){return i("elOption",{key:t.id,attrs:{label:t.value,value:t.id}})}))],1)],1)])])],1),t._v(" "),i("div",{staticClass:"button-box"},[i("el-button",{on:{click:t.handleCancel}},[t._v("取消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.handleSave}},[t._v("确认")])],1)])},[],!1,null,"37964bff",null);u.options.__file="index.vue";e.default=u.exports}}]);