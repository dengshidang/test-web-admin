(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-760b"],{Nuvt:function(e,t,i){"use strict";var a={name:"InputBox",props:{title:{type:String,default:""},must:{type:Boolean,default:!1},width:{type:Number,default:200}}},s=(i("Uumj"),i("KHd+")),r=Object(s.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-box",class:{must:this.must},style:{width:this.width+"px"}},[t("div",{staticClass:"input-title"},[this._v(this._s(this.title))]),this._v(" "),this._t("default")],2)},[],!1,null,"9a9a2152",null);r.options.__file="index.vue";t.a=r.exports},PAQe:function(e,t,i){"use strict";i.r(t);var a=i("Nuvt"),s=i("Yfch"),r=i("YJFt"),l={name:"UserAdd",components:{InputBox:a.a,FormItem:r.a},data:function(){var e=this;return{addUserForm:{username:"",mobile:"",email:"",password:"",repassword:"",roleId:3,hospitalId:1},sectionOptions:[],Joboptions:[],addUserRules:{mobile:[{required:!0,trigger:["blur","change"],validator:s.a}],password:[{required:!0,trigger:["blur","change"],validator:s.d}],repassword:[{required:!0,trigger:["blur","change"],validator:function(t,i,a){""===i?a(new Error("请再次输入密码")):i!==e.addUserForm.password?a(new Error("两次密码不一致，请重新输入")):a()}}],username:[{required:!0,trigger:["blur","change"],validator:s.f}]}}},methods:{handleSave:function(){var e=this;this.$refs.addUserForm.validate(function(t){return t&&(console.log("提交表单信息"),add(e.addUserForm).then(function(e){console.log(e.data),0===e.data.code?alert("添加成功！"):alert("添加失败！")})),!1})}}},o=(i("pUCW"),i("KHd+")),n=Object(o.a)(l,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"basics-box"},[e._m(0),e._v(" "),i("el-form",{ref:"addUserForm",attrs:{model:e.addUserForm,rules:e.addUserRules,"auto-complete":"on"}},[i("div",{staticClass:"info-box"},[i("div",{staticClass:"inp-box"},[i("div",{staticClass:"line"},[i("input-box",{staticClass:"input-box-left",attrs:{must:!0,width:348,title:"手机号"}},[i("form-item",{attrs:{prop:"mobile"}},[i("elInput",{attrs:{name:"phone",size:"mini",placeholder:"请输入登录名"},model:{value:e.addUserForm.mobile,callback:function(t){e.$set(e.addUserForm,"mobile",t)},expression:"addUserForm.mobile"}})],1)],1),e._v(" "),i("input-box",{staticClass:"input-box-left",attrs:{must:!0,width:348,title:"医生名称"}},[i("form-item",{attrs:{prop:"username"}},[i("elInput",{attrs:{name:"username",size:"mini",placeholder:"请输入医生名称"},model:{value:e.addUserForm.username,callback:function(t){e.$set(e.addUserForm,"username",t)},expression:"addUserForm.username"}})],1)],1)],1),e._v(" "),i("div",{staticClass:"line  line-last"},[i("input-box",{staticClass:"input-box-left",attrs:{must:!0,width:348,title:"登录密码"}},[i("form-item",{attrs:{prop:"password"}},[i("elInput",{attrs:{name:"password",type:"password",size:"mini",placeholder:"请输入登录密码"},model:{value:e.addUserForm.password,callback:function(t){e.$set(e.addUserForm,"password",t)},expression:"addUserForm.password"}})],1)],1),e._v(" "),i("input-box",{staticClass:"input-box-left",attrs:{must:!0,width:348,title:"确认密码"}},[i("form-item",{attrs:{prop:"repassword"}},[i("elInput",{attrs:{name:"repassword",type:"password",size:"mini",placeholder:"请再次输入登录密码"},model:{value:e.addUserForm.repassword,callback:function(t){e.$set(e.addUserForm,"repassword",t)},expression:"addUserForm.repassword"}})],1)],1)],1)])])]),e._v(" "),i("div",{staticClass:"info-box"},[i("div",{staticClass:"inp-box"},[i("div",{staticClass:"line"},[i("input-box",{staticClass:"input-box-left",attrs:{width:348,title:"邮箱地址"}},[i("elInput",{attrs:{name:"email",size:"mini",placeholder:"请输入邮箱地址"},model:{value:e.addUserForm.email,callback:function(t){e.$set(e.addUserForm,"email",t)},expression:"addUserForm.email"}})],1),e._v(" "),i("input-box",{attrs:{width:348,title:"医院/科室"}},[i("el-select",{attrs:{name:"section",size:"mini",placeholder:"请选择医院/科室"},model:{value:e.addUserForm.section,callback:function(t){e.$set(e.addUserForm,"section",t)},expression:"addUserForm.section"}},e._l(e.sectionOptions,function(e){return i("elOption",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),i("div",{staticClass:"line line-last"},[i("input-box",{attrs:{width:348,title:"职称"}},[i("el-select",{attrs:{name:"job",size:"mini",placeholder:"请选择职称"},model:{value:e.addUserForm.job,callback:function(t){e.$set(e.addUserForm,"job",t)},expression:"addUserForm.job"}},e._l(e.Joboptions,function(e){return i("elOption",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)]),e._v(" "),i("div",{staticClass:"save"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleSave}},[e._v("保存")]),e._v(" "),i("el-button",[e._v("取消")])],1)])],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hint-box"},[t("em",{staticClass:"hint-icon"}),this._v(" "),t("div",{staticClass:"hint-text"},[this._v("温馨提示：添加新账号统一由医院或系统管理员创建添加，请根据实际情况创建添加")])])}],!1,null,"a47dcdf6",null);n.options.__file="index.vue";t.default=n.exports},"SX/h":function(e,t,i){},Uumj:function(e,t,i){"use strict";var a=i("tB12");i.n(a).a},YJFt:function(e,t,i){"use strict";var a=i("oV5b"),s=i("9vS1"),r=i("6rf1"),l=i("a9f8"),o={name:"FormItem",componentName:"ElFormItem",mixins:[s.a],provide:function(){return{FormItem:this}},inject:["elForm"],props:{label:{type:String,default:""},labelWidth:{type:String,default:""},prop:{type:String,default:""},required:{type:Boolean,default:void 0},rules:{type:[Object,Array],default:null},error:{type:String,default:""},validateStatus:{type:String,default:""},for:{type:String,default:""},inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,default:""}},data:function(){return{validateState:"",validateMessage:"",validateDisabled:!1,validator:{},isNested:!1,form:null}},computed:{labelFor:function(){return this.for||this.prop},labelStyle:function(){var e={};if("top"===this.form.labelPosition)return e;var t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),e},contentStyle:function(){var e={},t=this.label;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;var i=this.labelWidth||this.form.labelWidth;return i&&(e.marginLeft=i),e},fieldValue:function(){var e=this.form.model;if(e&&this.prop){var t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),Object(l.a)(e,t,!0).v}},isRequired:function(){var e=this.getRules(),t=!1;return e&&e.length&&e.every(function(e){return!e.required||(t=!0,!1)}),t},_formSize:function(){return this.elForm.size},elFormItemSize:function(){return this.size||this._formSize},sizeClass:function(){return this.elFormItemSize||(this.$ELEMENT||{}).size}},watch:{error:{immediate:!0,handler:function(e){this.validateMessage=e,this.validateState=e?"error":""}},validateStatus:function(e){this.validateState=e}},created:function(){for(var e=this.$parent,t=e.$options.componentName;"ElForm"!==t;)"FormItem"===t&&(this.isNested=!0),t=(e=e.$parent).$options.componentName;this.form=e},mounted:function(){if(this.prop){this.dispatch("ElForm","el.form.addField",[this]);var e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),(this.getRules().length||void 0!==this.required)&&(this.$on("el.form.blur",this.onFieldBlur),this.$on("el.form.change",this.onFieldChange))}},beforeDestroy:function(){this.dispatch("ElForm","el.form.removeField",[this])},methods:{validate:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.b;this.validateDisabled=!1;var s=this.getFilteredRule(e);if((!s||0===s.length)&&void 0===this.required)return i(),!0;this.validateState="validating";var r={};s&&s.length>0&&s.forEach(function(e){delete e.trigger}),r[this.prop]=s;var o=new a.default(r),n={};n[this.prop]=this.fieldValue,o.validate(n,{firstFields:!0},function(e,a){t.validateState=e?"error":"success",t.validateMessage=e?e[0].message:"",i(t.validateMessage,a),t.elForm&&t.elForm.$emit("validate",t.prop,!e)})},clearValidate:function(){this.validateState="",this.validateMessage="",this.validateDisabled=!1},resetField:function(){this.validateState="",this.validateMessage="";var e=this.form.model,t=this.fieldValue,i=this.prop;-1!==i.indexOf(":")&&(i=i.replace(/:/,"."));var a=Object(l.a)(e,i,!0);this.validateDisabled=!0,Array.isArray(t)?a.o[a.k]=[].concat(this.initialValue):a.o[a.k]=this.initialValue,this.broadcast("ElTimeSelect","fieldReset",this.initialValue)},getRules:function(){var e=this.form.rules,t=this.rules,i=void 0!==this.required?{required:!!this.required}:[],a=Object(l.a)(e,this.prop||"");return e=e?a.o[this.prop||""]||a.v:[],[].concat(t||e||[]).concat(i)},getFilteredRule:function(e){return this.getRules().filter(function(t){return!t.trigger||""===e||(Array.isArray(t.trigger)?t.trigger.indexOf(e)>-1:t.trigger===e)}).map(function(e){return Object(r.a)({},e)})},onFieldBlur:function(){this.validate("blur")},onFieldChange:function(){this.validateDisabled?this.validateDisabled=!1:this.validate("change")},showErrorMessage:function(e){this.validateState="error",this.validateMessage=e}}},n=i("KHd+"),d=Object(n.a)(o,function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"el-form-item",class:[{"el-form-item--feedback":e.elForm&&e.elForm.statusIcon,"is-error":"error"===e.validateState,"is-validating":"validating"===e.validateState,"is-success":"success"===e.validateState,"is-required":e.isRequired||e.required},e.sizeClass?"el-form-item--"+e.sizeClass:""]},[e.label||e.$slots.label?i("label",{staticClass:"el-form-item__label",style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e(),e._v(" "),i("div",{staticClass:"el-form-item__content",style:e.contentStyle},[e._t("default"),e._v(" "),i("transition",{attrs:{name:"el-zoom-in-top"}},["error"===e.validateState&&e.showMessage&&e.form.showMessage?i("div",{staticClass:"el-form-item__error",class:{"el-form-item__error--inline":"boolean"==typeof e.inlineMessage?e.inlineMessage:e.elForm&&e.elForm.inlineMessage||!1}},[e._v("\n        "+e._s(e.validateMessage)+"\n      ")]):e._e()])],2)])},[],!1,null,null,null);d.options.__file="index.vue";t.a=d.exports},pUCW:function(e,t,i){"use strict";var a=i("SX/h");i.n(a).a},tB12:function(e,t,i){}}]);